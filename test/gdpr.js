
function loadGDPRContent() {
    const gdprContent = `
        <h2>General Data Protection Policy</h2>
        <p><em>Last updated 8th April 2019</em></p>

        <h3>Definitions</h3>
        <table>
            <tr>
                <td><strong>Club</strong></td>
                <td>Sarnia Skittles Club</td>
            </tr>
            <tr>
                <td><strong>GDPR</strong></td>
                <td>General Data Protection Regulation. Data Protection (Bailiwick of Guernsey) Law, 2017</td>
            </tr>
            <tr>
                <td><strong>Responsible Person</strong></td>
                <td>Sarnia Skittles Committee</td>
            </tr>
            <tr>
                <td><strong>Register of Systems</strong></td>
                <td>means a register of all systems or contexts in which personal data is processed by the club</td>
            </tr>
        </table>

        <h3>1. Data protection principles</h3>
        <p>The club is committed to processing data in accordance with its responsibilities under the GDPR.</p>
        <p>Article 5 of the GDPR requires that personal data shall be:</p>
        <ol type="a">
            <li>processed lawfully, fairly and in a transparent manner in relation to individuals;</li>
            <li>collected for specified, explicit and legitimate purposes and not further processed in a manner that is incompatible with those purposes; further processing for archiving purposes in the public interest, scientific or historical research purposes or statistical purposes shall not be considered to be incompatible with the initial purposes;</li>
            <li>adequate, relevant and limited to what is necessary in relation to the purposes for which they are processed;</li>
            <li>accurate and, where necessary, kept up to date; every reasonable step must be taken to ensure that personal data that are inaccurate, having regard to the purposes for which they are processed, are erased or rectified without delay;</li>
            <li>kept in a form which permits identification of data subjects for no longer than is necessary for the purposes for which the personal data are processed; personal data may be stored for longer periods insofar as the personal data will be processed solely for archiving purposes in the public interest, scientific or historical research purposes or statistical purposes subject to implementation of the appropriate technical and organisational measures required by the GDPR in order to safeguard the rights and freedoms of individuals; and</li>
            <li>processed in a manner that ensures appropriate security of the personal data, including protection against unauthorised or unlawful processing and against accidental loss, destruction or damage, using appropriate technical or organisational measures.”</li>
        </ol>

        <h3>2. General provisions</h3>
        <ol type="a">
            <li>This policy applies to all personal data processed by the club.</li>
            <li>The Responsible Person shall take responsibility for the club’s ongoing compliance with this policy.</li>
            <li>This policy shall be reviewed at least annually.</li>
            <li>The club shall register with the Information Commissioner’s Office as an organisation that processes personal data.</li>
        </ol>

        <h3>3. Lawful, fair and transparent processing</h3>
        <ol type="a">
            <li>To ensure its processing of data is lawful, fair and transparent, the club shall maintain a Register of Systems.</li>
            <li>The Register of Systems shall be reviewed at least annually.</li>
            <li>Individuals have the right to access their personal data and any such requests made to the club shall be dealt with in a timely manner.</li>
        </ol>

        <h3>4. Lawful purposes</h3>
        <ol type="a">
            <li>All data processed by the club must be done on one of the following lawful bases: consent, contract, legal obligation, vital interests, public task or legitimate interests (see ICO guidance for more information).</li>
            <li>The club shall note the appropriate lawful basis in the Register of Systems.</li>
            <li>Where consent is relied upon as a lawful basis for processing data, evidence of opt-in  consent shall be kept with the personal data.</li>
            <li>Where communications are sent to individuals based on their consent, the option for the individual to revoke their consent should be clearly available and systems should be in place to ensure such revocation is reflected accurately in the club’s systems.</li>
        </ol>

        <h3>5. Data minimisation</h3>
        <ol type="a">
            <li>The club shall ensure that personal data are adequate, relevant and limited to what is necessary in relation to the purposes for which they are processed.</li>
        </ol>

        <h3>6. Accuracy</h3>
        <ol type="a">
            <li>The club shall take reasonable steps to ensure personal data is accurate.</li>
            <li>Where necessary for the lawful basis on which data is processed, steps shall be put in place to ensure that personal data is kept up to date.</li>
        </ol>

        <h3>7. Archiving / removal</h3>
        <ol type="a">
            <li>To ensure that personal data is kept for no longer than necessary, the club shall put in place an archiving policy for each area in which personal data is processed and review this process annually.</li>
            <li>The archiving policy shall consider what data should/must be retained, for how long, and why.</li>
        </ain>
        <h3>8. Security</h3>
        <ol type="a">
            <li>The club shall ensure that personal data is stored securely using modern software that is kept-up-to-date.</li>
            <li>Access to personal data shall be limited to personnel who need access and appropriate security should be in place to avoid unauthorised sharing of information.</li>
            <li>When personal data is deleted this should be done safely such that the data is irrecoverable.</li>
            <li>Appropriate back-up and disaster recovery solutions shall be in place.</li>
        </ol>

        <h3>9. Breach</h3>
        <p>In the event of a breach of security leading to the accidental or unlawful destruction, loss, alteration, unauthorised disclosure of, or access to, personal data, the club shall promptly assess the risk to people’s rights and freedoms and if appropriate report this breach to the ICO (more information on the ICO website).</p>
        <br>
        <p><strong>END OF POLICY</strong></p>
    `;

    const privacyContent = `
        <h2>DATA PRIVACY POLICY</h2>
        <h3>1. About this Policy</h3>
        <p>1.1 This policy explains when and why we collect personal information about our members and instructors, how we use it and how we keep it secure and your rights in relation to it.</p>
        <p>1.2 We may collect, use and store your personal data, as described in this Data Privacy Policy and as described when we collect data from you.</p>
        <p>1.3 We reserve the right to amend this Data Privacy Policy from time to time without prior notice. You are advised to check our website www.sarniaskittles.leaguerepublic.com/l/league/866672638.html or our Club noticeboard regularly for any amendments (but amendments will not be made retrospectively).</p>
        <p>1.4 We will always comply with the General Data Protection Regulation (GDPR) when dealing with your personal data. Further details on the GDPR can be found at the website www.odpa.gg . For the purposes of the GDPR, we will be the “controller” of all personal data we hold about you.</p>
        
        <h3>2. Who are we?</h3>
        <p>2.1 We are Sarnia Skittles Club.</p>
        
        <h3>3. What information we collect and why.</h3>
        <table>
            <tr>
                <th>Type of information</th>
                <th>Purposes</th>
                <th>Legal basis of processing</th>
            </tr>
            <tr>
                <td>Member's name, address, telephone numbers, e-mail address(es).</td>
                <td>Managing the Member’s membership of the Club. Keeping in touch with the Member (including by newsletter).</td>
                <td>For the purposes of our legitimate interests in operating the Club.</td>
            </tr>
            <tr>
                <td>Date of birth / age related information</td>
                <td>Managing membership categories which are age related</td>
                <td></td>
            </tr>
            <tr>
                <td>Gender</td>
                <td>Putting on the Club’s website, social media pages, newsletter and using in press releases. Creating and managing the Club's Membership Directory.</td>
                <td>Consent. We will seek the Member’s consent on their membership application form and each membership renewal form. The Member may withdraw their consent at any time by contacting us by e-mail or letter to tell us that they no longer wish their details to appear in the Membership Directory.</td>
            </tr>
             <tr>
                <td>Information published on Club’s website</td>
                <td></td>
                <td>For the purposes of our legitimate interests in operating and promoting the Club</td>
            </tr>
        </table>

        <h3>4. Security</h3>
        <p>4.0 We have implemented generally accepted standards of technology and operational security in order to protect personal data from loss, misuse, or unauthorised alteration or destruction.</p>
        <p>4.1 Please note however that where you are transmitting information to us over the internet this can never be guaranteed to be 100% secure.</p>
        <p>4.2 We will notify you promptly in the event of any breach of your personal data which might expose you to serious risk.</p>

        <h3>5. Who else has access to the information you provide us?</h3>
        <p>5.1 We will never sell your personal data. We will not share your personal data with any third parties without your prior consent (which you are free to withhold) except where we are required to do so by law or as set out in the table above or in paragraphs 5.2 and 5.3 below.</p>

        <h3>6. How long do we keep your information?</h3>
        <p>6.1 We will hold your personal data on our systems for as long as you are a member of the Club and for as long afterwards as it is in the Clubs’ legitimate interest to do so or for as long as is necessary to comply with our legal obligations. We will review your personal data every year to establish whether we are still entitled to process it. If we decide that we are not entitled to do so, we will stop processing your personal data except that we will retain your personal data in an archived form in order to be able to comply with future legal obligations e.g. compliance with tax requirements and exemptions, and the establishment, exercise or defence of legal claims.</p>
        <p>6.2 We securely destroy all financial information once we have used it and no longer need it.</p>

        <h3>7. Your rights explained</h3>
        <p>7.1 It is important that you understand what rights you have in respect of the Personal Data and Special Category Personal Data that we hold about you. To let us know that you wish us to exercise any of your rights outlined above please contact our [Data Protection Manager] [insert address or email address].</p>
        <p>(a) The right to be informed (knowing how we will use your data). You have the right to be told how we will use your Personal Data – which is set out in This Notice.</p>
        <p>(b) The right of access (being provided with copies of your data). You have the right to ask us to provide you with a copy of your Personal Data. We will supply any information you ask for as soon as possible but may take up to 1 month once we are satisfied as to your identity. We will not charge you for this. This is called a data subject access request.</p>
        <p>(c) The right to rectification (changing incorrect information we hold). If you believe our records are inaccurate you have the right to ask for those records concerning you to be updated. Contact details for any requests can be found above.</p>
        <p>(d) The right to be forgotten (erasure) (requesting deletion of your Personal Data). In some cases, you have the right to be forgotten (i.e. to have your Personal Data deleted from our database).</p>
        <p>(e) The right to restrict processing (limiting how we use your data). In certain situations, you have the right to ask for processing of your Personal Data to be restricted because there is some disagreement about its accuracy or legitimate usage.</p>
        <p>(f) The right to data portability (moving your data in a useable format). You have the right to request the Personal Data you provided to us, in a structured, commonly used and machine-readable format and/or transmit that data to a third party - in certain situations.</p>
        <p>(g) The right to object (when we must stop processing your data). You have the right to object to us processing data purely for our legitimate interests. If you make such a request, we must stop processing your Personal Data unless: we can demonstrate compelling legitimate grounds for the processing, which override your interests, rights and freedoms; or the processing is for the establishment, exercise or defence of legal claims.</p>
        <p>(h) The right not to be subject to automated decision making including profiling (making a decision solely by automated means without any human involvement).</p>
        
        <p>7.2 You have the right to take any complaints about how we process your personal data to the Data Protection Authority:</p>
        <p>
            Telephone: +44 (0) 1481 742074<br>
            Email: enquiries@odpa.gg<br>
            Address:<br>
            Office of the Data Protection Authority<br>
            St Martin’s House<br>
            Le Bordage<br>
            St. Peter Port<br>
            Guernsey<br>
            GY1 1BR
        </p>
    `;

    const gdprContainer = document.getElementById('gdpr-content');
    if (gdprContainer) {
        gdprContainer.innerHTML = gdprContent;
    }

    const privacyContainer = document.getElementById('privacy-content');
    if (privacyContainer) {
        privacyContainer.innerHTML = privacyContent;
    }
}

function handleTabClick(event) {
    const clickedTab = event.target;
    const tabId = clickedTab.dataset.tab;

    // Handle active tab link
    document.querySelectorAll('.main-tabs .tab-link').forEach(link => link.classList.remove('active'));
    clickedTab.classList.add('active');

    // Handle active tab pane
    document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
    document.getElementById(tabId + '-content').classList.add('active');
}


// Ensure the DOM is fully loaded before trying to manipulate it
document.addEventListener('DOMContentLoaded', (event) => {
    loadGDPRContent();
    document.querySelectorAll('.main-tabs .tab-link').forEach(link => link.addEventListener('click', handleTabClick));
});
