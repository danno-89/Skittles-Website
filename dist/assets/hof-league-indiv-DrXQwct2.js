import"./modulepreload-polyfill-B5Qt9EMX.js";import{e as W,c as x,b as H,g as R,d as F}from"./firebase.config-IpTQKhZm.js";/* empty css                          *//* empty css                               *//* empty css             */import"./main-CA5my9sR.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const c=document.getElementById("hall-of-fame-container"),M=document.getElementById("competition-tabs-container"),v=document.getElementById("stats-content"),C=document.getElementById("detailed-winners-container");let N=[],y=[];const D=async()=>{try{const n=await W(x(H,"competitions"));if(n.empty){c.innerHTML="<p>No competition data found.</p>";return}N=n.docs.map(t=>({id:t.id,...t.data()})),S()}catch(n){console.error("Error initializing page:",n),c.innerHTML="<p>Error loading competition data.</p>"}},S=()=>{M.innerHTML="";const n=N.filter(e=>e.id==="individual-average");if(n.length===0){c.innerHTML="<p>Individual Average competition not found.</p>";return}const t=n[0],s=document.createElement("button");s.className="tab-link active",s.dataset.competitionId=t.id,s.textContent=t.name,M.appendChild(s),B(t.id,t.name)},B=async(n,t)=>{c.innerHTML="<p>Loading...</p>",v.innerHTML="<p>Loading statistics...</p>",C.innerHTML="";try{const s=await R(F(H,"winners",n));s.exists()?y=s.data().history||[]:y=[],I(y,t);const e=j(y);z(e),O(e)}catch(s){console.error(`Error loading winners for ${n}:`,s),c.innerHTML="<p>Error loading winners data.</p>",v.innerHTML="<p>Error generating statistics.</p>"}},I=(n,t)=>{c.innerHTML="";const s=document.createElement("h2");s.className="competition-heading",s.textContent=t,c.appendChild(s);const e=document.createElement("div");e.className="winners-table-container";const i=document.createElement("table");i.className="winners-table";const d=i.createTHead(),l=i.createTBody(),E=d.insertRow();E.innerHTML="<th>Season</th><th>Premier Division</th><th>First Division</th><th>Second Division</th><th>Ladies</th>";const p=n.reduce((o,a)=>{const{season:r,division:m,winner:u,score:g}=a;return o[r]||(o[r]={}),o[r][m]={winner:u,score:g},o},{}),h=o=>n.filter(a=>a.division===o).reduce((a,r)=>r.score>a.score?r:a,{score:-1}),$=h("premier-division"),w=h("first-division"),b=h("second-division"),f=h("ladies"),T=l.insertRow();T.className="club-leader",T.innerHTML=`
        <td>Record</td>
        <td>${$.winner?`${$.winner} <span class="games-played">[${Number($.score).toFixed(2)}]</span> <br> <span class="record-season">(${$.season})</span>`:"-"}</td>
        <td>${w.winner?`${w.winner} <span class="games-played">[${Number(w.score).toFixed(2)}]</span> <br> <span class="record-season">(${w.season})</span>`:"-"}</td>
        <td>${b.winner?`${b.winner} <span class="games-played">[${Number(b.score).toFixed(2)}]</span> <br> <span class="record-season">(${b.season})</span>`:"-"}</td>
        <td>${f.winner?`${f.winner} <span class="games-played">[${Number(f.score).toFixed(2)}]</span> <br> <span class="record-season">(${f.season})</span>`:"-"}</td>
    `,Object.keys(p).sort((o,a)=>a.localeCompare(o)).forEach(o=>{const a=l.insertRow(),r=p[o],m=r["premier-division"],u=r["first-division"],g=r["second-division"],L=r.ladies;a.innerHTML=`
            <td>${o}</td>
            <td>${m?`${m.winner} <span class="games-played">[${Number(m.score).toFixed(2)}]</span>`:"-"}</td>
            <td>${u?`${u.winner} <span class="games-played">[${Number(u.score).toFixed(2)}]</span>`:"-"}</td>
            <td>${g?`${g.winner} <span class="games-played">[${Number(g.score).toFixed(2)}]</span>`:"-"}</td>
            <td>${L?`${L.winner} <span class="games-played">[${Number(L.score).toFixed(2)}]</span>`:"-"}</td>
        `}),e.appendChild(i),c.appendChild(e)},z=n=>{if(n.size===0){v.innerHTML="<p>No winners to calculate stats for.</p>";return}const t=[...n.entries()].sort((i,d)=>d[1]-i[1]),s=t.length>0?t[0][1]:0,e=t.filter(i=>i[1]===s);v.innerHTML=`
        <div class="stat-item"><strong>Total Unique Winners:</strong><span>${n.size}</span></div>
        <div class="stat-item"><strong>Most Wins:</strong><span>${e.map(i=>`${i[0]} (${i[1]})`).join(", ")}</span></div>`},O=n=>{if(C.innerHTML="",n.size===0)return;const t=document.createElement("h2");t.textContent="All Winners by Wins",C.appendChild(t);const s=[...n.entries()].reduce((e,[i,d])=>((e[d]=e[d]||[]).push(i),e),{});Object.keys(s).sort((e,i)=>i-e).forEach(e=>{const i=document.createElement("div");i.className="winner-group";const d=document.createElement("h3");d.textContent=`${e} ${e>1?"Wins":"Win"}`,i.appendChild(d);const l=document.createElement("ul");l.className="detailed-winner-list",s[e].sort().forEach(E=>{const p=document.createElement("li");p.textContent=E,l.appendChild(p)}),i.appendChild(l),C.appendChild(i)})};function j(n){return n.reduce((t,s)=>{const e=s.winner;return e&&typeof e=="string"&&t.set(e,(t.get(e)||0)+1),t},new Map)}document.addEventListener("DOMContentLoaded",D);
