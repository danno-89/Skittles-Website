import"./modulepreload-polyfill-B5Qt9EMX.js";import{e as L,c as v,b as C,g as M,d as y}from"./firebase.config-IpTQKhZm.js";/* empty css                          *//* empty css             */import"./main-CA5my9sR.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const a=document.getElementById("hall-of-fame-container"),g=document.getElementById("competition-tabs-container"),l=document.getElementById("stats-content"),p=document.getElementById("detailed-winners-container"),E=document.getElementById("division-filter-container");document.getElementById("division-filter");let u=[],m=[];const H=async()=>{try{const n=await L(v(C,"competitions"));if(n.empty){a.innerHTML="<p>No competition data found.</p>";return}u=n.docs.map(i=>({id:i.id,...i.data()})),b()}catch(n){console.error("Error initializing page:",n),a.innerHTML="<p>Error loading competition data.</p>"}},b=()=>{g.innerHTML="";const n=["Premier Division","First Division","Second Division","Third Division"],i=u.filter(t=>t.id==="premier-division"||t.id==="first-division"||t.id==="second-division"||t.id==="third-division").sort((t,e)=>{const o=n.indexOf(t.name),s=n.indexOf(e.name);return o-s});if(i.length===0){a.innerHTML="<p>No league competitions found.</p>",l.innerHTML="",p.innerHTML="",E.style.display="none";return}i.forEach(t=>{const e=document.createElement("button");e.className="tab-link",e.dataset.competitionId=t.id,e.textContent=t.name,e.addEventListener("click",()=>f(t.id,t.name)),g.appendChild(e)}),i.length>0&&f(i[0].id,i[0].name)},f=(n,i)=>{g.querySelectorAll(".tab-link").forEach(t=>{t.classList.toggle("active",t.dataset.competitionId===n)}),w(n)},w=async n=>{if(a.innerHTML="<p>Loading...</p>",l.innerHTML="<p>Loading statistics...</p>",p.innerHTML="",E.style.display="none",!n){a.innerHTML="",l.innerHTML="<p>Select a competition to see statistics.</p>";return}try{const i=await M(y(C,"winners",n));if(i.exists()){let r=i.data().history||[];n==="premier-division"&&(r=r.filter(d=>d.season!=="2025-26")),m=r.sort((d,c)=>String(c.season).localeCompare(String(d.season)))}else m=[];const t=u.find(s=>s.id===n),e=t?t.name:"Competition";N(m,e);const o=$(m);W(o),x(o)}catch(i){console.error(`Error loading winners for ${n}:`,i),a.innerHTML="<p>Error loading winners data.</p>",l.innerHTML="<p>Error generating statistics.</p>"}},N=(n,i)=>{a.innerHTML="";const t=document.createElement("h2");t.className="competition-heading",t.textContent=i,a.appendChild(t);const e=document.createElement("div");e.className="winners-table-container";const o=document.createElement("table");o.className="winners-table";const s=o.createTHead(),r=o.createTBody(),d=s.insertRow();d.innerHTML="<th>Season</th><th>First</th><th>Second</th><th>Third</th>",n.forEach(c=>{const T=r.insertRow(),h=c.places||{};T.innerHTML=`<td>${c.season}</td><td>${h.first||"N/A"}</td><td>${h.second||"N/A"}</td><td>${h.third||"N/A"}</td>`}),e.appendChild(o),a.appendChild(e)},W=n=>{if(n.size===0){l.innerHTML="<p>No winners to calculate stats for.</p>";return}const i=[...n.entries()].sort((o,s)=>s[1]-o[1]),t=i.length>0?i[0][1]:0,e=i.filter(o=>o[1]===t);l.innerHTML=`
        <div class="stat-item"><strong>Total Unique Winners:</strong><span>${n.size}</span></div>
        <div class="stat-item"><strong>Most Wins:</strong><span>${e.map(o=>`${o[0]} (${o[1]})`).join(", ")}</span></div>`},x=n=>{if(p.innerHTML="",n.size===0)return;const i=document.createElement("h2");i.textContent="All Winners by Wins",p.appendChild(i);const t=[...n.entries()].reduce((e,[o,s])=>((e[s]=e[s]||[]).push(o),e),{});Object.keys(t).sort((e,o)=>o-e).forEach(e=>{const o=document.createElement("div");o.className="winner-group";const s=document.createElement("h3");s.textContent=`${e} ${e>1?"Wins":"Win"}`,o.appendChild(s);const r=document.createElement("ul");r.className="detailed-winner-list",t[e].sort().forEach(d=>{const c=document.createElement("li");c.textContent=d,r.appendChild(c)}),o.appendChild(r),p.appendChild(o)})};function $(n){return n.reduce((i,t)=>{const e=t.places?t.places.first:null;return e&&typeof e=="string"&&i.set(e,(i.get(e)||0)+1),i},new Map)}document.addEventListener("DOMContentLoaded",H);
