import"./modulepreload-polyfill-B5Qt9EMX.js";import{e as L,c as E,b as f,g as T,d as M}from"./firebase.config-IpTQKhZm.js";/* empty css                          *//* empty css             */import"./main-DLzLBIiP.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const r=document.getElementById("hall-of-fame-container"),u=document.getElementById("competition-tabs-container"),c=document.getElementById("stats-content"),m=document.getElementById("detailed-winners-container");let h=[],p=[];const k=async()=>{try{const t=await L(E(f,"competitions"));if(t.empty){r.innerHTML="<p>No competition data found.</p>";return}h=t.docs.map(i=>({id:i.id,...i.data()})),H()}catch(t){console.error("Error initializing page:",t),r.innerHTML="<p>Error loading competition data.</p>"}},H=()=>{u.innerHTML="";const t=["champion-of-champions","general-knockout","premier-division-knockout","first-division-knockout","second-division-knockout"],i={"champion-of-champions":1,"general-knockout":2,"premier-division-knockout":3,"first-division-knockout":4,"second-division-knockout":5},o=h.filter(n=>t.includes(n.id)).sort((n,e)=>i[n.id]-i[e.id]);if(o.length===0){r.innerHTML="<p>No cup competitions found.</p>",c.innerHTML="",m.innerHTML="";return}o.forEach(n=>{const e=document.createElement("button");e.className="tab-link",e.dataset.competitionId=n.id,e.textContent=n.name,e.addEventListener("click",()=>g(n.id,n.name)),u.appendChild(e)}),o.length>0&&g(o[0].id,o[0].name)},g=(t,i)=>{u.querySelectorAll(".tab-link").forEach(o=>{o.classList.toggle("active",o.dataset.competitionId===t)}),w(t)},w=async t=>{if(r.innerHTML="<p>Loading...</p>",c.innerHTML="<p>Loading statistics...</p>",m.innerHTML="",!t){r.innerHTML="",c.innerHTML="<p>Select a competition to see statistics.</p>";return}try{const i=await T(M(f,"winners",t));i.exists()?(p=i.data().history||[],p.sort((a,d)=>String(d.season).localeCompare(String(a.season)))):p=[];const o=h.find(s=>s.id===t),n=o?o.name:"Competition";b(p,n);const e=W(p);y(e),v(e)}catch(i){console.error(`Error loading winners for ${t}:`,i),r.innerHTML="<p>Error loading winners data.</p>",c.innerHTML="<p>Error generating statistics.</p>"}},b=(t,i)=>{r.innerHTML="";const o=document.createElement("h2");o.className="competition-heading",o.textContent=i,r.appendChild(o);const n=document.createElement("div");n.className="winners-table-container";const e=document.createElement("table");e.className="winners-table";const s=e.createTHead(),a=e.createTBody(),d=s.insertRow();d.innerHTML="<th>Season</th><th>Winner</th>",t.forEach(l=>{const C=a.insertRow();C.innerHTML=`<td>${l.season}</td><td>${l.winner||"N/A"}</td>`}),n.appendChild(e),r.appendChild(n)},y=t=>{if(t.size===0){c.innerHTML="<p>No winners to calculate stats for.</p>";return}const i=[...t.entries()].sort((e,s)=>s[1]-e[1]),o=i.length>0?i[0][1]:0,n=i.filter(e=>e[1]===o);c.innerHTML=`
        <div class="stat-item"><strong>Total Unique Winners:</strong><span>${t.size}</span></div>
        <div class="stat-item"><strong>Most Wins:</strong><span>${n.map(e=>`${e[0]} (${e[1]})`).join(", ")}</span></div>`},v=t=>{if(m.innerHTML="",t.size===0)return;const i=document.createElement("h2");i.textContent="All Winners by Wins",m.appendChild(i);const o=[...t.entries()].reduce((n,[e,s])=>((n[s]=n[s]||[]).push(e),n),{});Object.keys(o).sort((n,e)=>e-n).forEach(n=>{const e=document.createElement("div");e.className="winner-group";const s=document.createElement("h3");s.textContent=`${n} ${n>1?"Wins":"Win"}`,e.appendChild(s);const a=document.createElement("ul");a.className="detailed-winner-list",o[n].sort().forEach(d=>{const l=document.createElement("li");l.textContent=d,a.appendChild(l)}),e.appendChild(a),m.appendChild(e)})};function W(t){return t.reduce((i,o)=>{const n=o.winner;return n&&typeof n=="string"&&i.set(n,(i.get(n)||0)+1),i},new Map)}document.addEventListener("DOMContentLoaded",k);
