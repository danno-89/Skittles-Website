import"./modulepreload-polyfill-B5Qt9EMX.js";import{b as v}from"./firebase.config-IpTQKhZm.js";/* empty css                  */import"./main-DLzLBIiP.js";import{collection as m,query as p,where as f,getDocs as w}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const d=document.getElementById("countdown"),i=document.getElementById("countdown-card");async function h(){const o=m(v,"events"),s=p(o,f("registration","==",!0)),r=await w(s);let c=null,a=null;const t=new Date;return r.forEach(u=>{const e=u.data();let n;e.date&&typeof e.date.toDate=="function"?n=e.date.toDate():n=new Date(e.date),n>t&&(!a||n<a)&&(a=n,c=e)}),{nextEvent:c,nextEventDate:a}}function y(o,s){if(!s||!o){d.innerHTML="<p>No upcoming events with open registration.</p>",i&&(i.style.display="none");return}const r=document.createElement("h3");r.textContent=o.name,i&&!i.querySelector("h3")&&i.insertBefore(r,d);const c=setInterval(()=>{const a=new Date().getTime(),t=s-a;if(t<0){clearInterval(c),d.innerHTML="<p>The event has started!</p>";return}const u=Math.floor(t/(1e3*60*60*24)),e=Math.floor(t%(1e3*60*60*24)/(1e3*60*60)),n=Math.floor(t%(1e3*60*60)/(1e3*60)),l=Math.floor(t%(1e3*60)/1e3);d.innerHTML=`
            <div>${u}<span>Days</span></div>
            <div>${e}<span>Hours</span></div>
            <div>${n}<span>Minutes</span></div>
            <div>${l}<span>Seconds</span></div>
        `},1e3)}document.addEventListener("DOMContentLoaded",async()=>{setTimeout(async()=>{const{nextEvent:o,nextEventDate:s}=await h();y(o,s)},100)});
