import"./modulepreload-polyfill-B5Qt9EMX.js";import{e as F,c as T,b as C,g as A,d as S}from"./firebase.config-IpTQKhZm.js";/* empty css             */import"./main-DLzLBIiP.js";import"https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";const u=document.getElementById("league-table-container"),f=document.getElementById("season-filter"),b=document.getElementById("division-tabs-container");if(u&&f&&b){const h=async n=>(await F(T(C,n))).docs.map(t=>({id:t.id,...t.data()})),E=n=>new Map(n.map(a=>[a.id,a.name])),L=n=>{var t;f.innerHTML='<option value="">Select a Season</option>',n.sort((r,p)=>p.id.localeCompare(r.id)).forEach(r=>{const p=document.createElement("option");p.value=r.id,p.textContent=r.id,f.appendChild(p)});const a=n.some(r=>r.id==="2025-26")?"2025-26":((t=n[0])==null?void 0:t.id)||"";a&&(f.value=a,y(a))},i=(n,a=[])=>{const t=document.createElement("td");return t.textContent=n,a.forEach(r=>t.classList.add(r)),t},d=(n,a=[])=>{const t=document.createElement("th");return t.textContent=n,a.forEach(r=>t.classList.add(r)),t},v=(n,a)=>{const t=document.createElement("div");if(t.classList.add("table-container"),!n||!Array.isArray(n.standings))return t;const r=document.createElement("table");r.classList.add("styled-table");const p=document.createElement("thead"),g=document.createElement("tr");g.append(d("Pos",["pos-col","number-col"]),d("Team",["team-name-col"]),d("Pld",["number-col"]),d("W",["number-col"]),d("D",["number-col"]),d("L",["number-col"]),d("Pts",["number-col","pts-col"]),d("F",["number-col","col-pins-for"]),d("A",["number-col","col-pins-against"]),d("Win%",["number-col","col-win-percentage"]),d("Ave",["number-col","col-average"]));const s=n.standings.some(e=>e.max_score>0);s&&g.appendChild(d("Max",["number-col"])),p.appendChild(g),r.appendChild(p);const o=document.createElement("tbody");return n.standings.map(e=>({...e,teamName:a.get(e.teamId)||"N/A",played:e.played??0,won:e.won??0,drawn:e.drawn??0,lost:e.lost??0,points:e.points??0,pinsFor:e.pinsFor??0,pinsAgainst:e.pinsAgainst??0,max_score:e.max_score??0})).sort((e,c)=>{const l=e.played>0?e.pinsFor/e.played:0,m=c.played>0?c.pinsFor/c.played:0;return c.points!==e.points?c.points-e.points:m!==l?m-l:c.pinsFor!==e.pinsFor?c.pinsFor-e.pinsFor:c.max_score!==e.max_score?c.max_score-e.max_score:e.teamName.localeCompare(c.teamName)}).forEach((e,c)=>{const l=document.createElement("tr"),m=e.played>0?`${(e.won/e.played*100).toFixed(1)}%`:"-",x=e.played>0?(e.pinsFor/e.played).toFixed(1):"-";l.append(i(c+1,["pos-col","number-col"]),i(e.teamName,["team-name-col"]),i(e.played||"-",["number-col"]),i(e.won||"-",["number-col"]),i(e.drawn||"-",["number-col"]),i(e.lost||"-",["number-col"]),i(e.points||"-",["number-col","pts-col"]),i(e.pinsFor?e.pinsFor.toLocaleString():"-",["number-col","col-pins-for"]),i(e.pinsAgainst?e.pinsAgainst.toLocaleString():"-",["number-col","col-pins-against"]),i(m,["number-col","col-win-percentage"]),i(x,["number-col","col-average"])),s&&l.appendChild(i(e.max_score||"-",["number-col"])),o.appendChild(l)}),r.appendChild(o),t.appendChild(r),t},w=n=>{b.querySelectorAll(".tab-link").forEach(r=>r.classList.remove("active")),u.querySelectorAll(".division-table").forEach(r=>r.style.display="none");const a=b.querySelector(`[data-division="${n}"]`),t=u.querySelector(`[data-division-content="${n}"]`);a&&a.classList.add("active"),t&&(t.style.display="block")},y=async n=>{if(u.innerHTML="<p>Loading table...</p>",b.innerHTML="",!n){u.innerHTML="";return}try{const a=await A(S(C,"league_tables",n));if(a.exists()){const t=a.data(),r=await h("teams").then(E),p=s=>{const o=s.toLowerCase();return o.includes("premier")?0:o.includes("first")||o.includes("1")?1:o.includes("second")||o.includes("2")?2:o.includes("third")||o.includes("3")?3:o.includes("fourth")||o.includes("4")?4:o.includes("fifth")||o.includes("5")?5:o.includes("ladies")?99:100},g=Object.keys(t).filter(s=>{if(s==="season")return!1;const o=t[s];return typeof o!="object"||o===null?!1:!(o.leagueName||s).toLowerCase().includes("knockout")}).sort((s,o)=>p(s)-p(o)||s.localeCompare(o));u.innerHTML="",g.forEach((s,o)=>{const e=t[s],c=v(e,r);c.classList.add("division-table"),c.dataset.divisionContent=s,c.style.display=o===0?"block":"none",u.appendChild(c);const l=document.createElement("button");l.className="tab-link",o===0&&l.classList.add("active"),l.dataset.division=s,l.textContent=e.leagueName||s.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase()),l.onclick=()=>w(s),b.appendChild(l)})}else u.innerHTML=`<p>No league data found for the ${n} season.</p>`}catch(a){console.error("Error loading league tables:",a),u.innerHTML="<p>Error loading league table data.</p>"}};(async()=>{if(u&&f&&b){const n=await h("league_tables");L(n),f.addEventListener("change",a=>y(a.target.value))}})()}
